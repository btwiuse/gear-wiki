"use strict";(self.webpackChunkdocs_website=self.webpackChunkdocs_website||[]).push([[3164],{4567:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>v,contentTitle:()=>y,default:()=>x,frontMatter:()=>b,metadata:()=>N,toc:()=>f});var n=a(7462),l=a(7294),r=a(3905),o=a(6010),i=a(2389),s=a(7392),u=a(7094),d=a(2466);const p="tabList__CuJ",m="tabItem_LNqP";function c(e){var t,a;const{lazy:r,block:i,defaultValue:c,values:g,groupId:h,className:k}=e,b=l.Children.map(e.children,(e=>{if((0,l.isValidElement)(e)&&"value"in e.props)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),y=null!=g?g:b.map((e=>{let{props:{value:t,label:a,attributes:n}}=e;return{value:t,label:a,attributes:n}})),N=(0,s.l)(y,((e,t)=>e.value===t.value));if(N.length>0)throw new Error('Docusaurus error: Duplicate values "'+N.map((e=>e.value)).join(", ")+'" found in <Tabs>. Every value needs to be unique.');const v=null===c?c:null!=(t=null!=c?c:null==(a=b.find((e=>e.props.default)))?void 0:a.props.value)?t:b[0].props.value;if(null!==v&&!y.some((e=>e.value===v)))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+v+'" but none of its children has the corresponding value. Available values are: '+y.map((e=>e.value)).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");const{tabGroupChoices:f,setTabGroupChoices:w}=(0,u.U)(),[x,C]=(0,l.useState)(v),T=[],{blockElementScrollPositionUntilNextRender:_}=(0,d.o5)();if(null!=h){const e=f[h];null!=e&&e!==x&&y.some((t=>t.value===e))&&C(e)}const S=e=>{const t=e.currentTarget,a=T.indexOf(t),n=y[a].value;n!==x&&(_(t),C(n),null!=h&&w(h,String(n)))},I=e=>{var t;let a=null;switch(e.key){case"ArrowRight":{var n;const t=T.indexOf(e.currentTarget)+1;a=null!=(n=T[t])?n:T[0];break}case"ArrowLeft":{var l;const t=T.indexOf(e.currentTarget)-1;a=null!=(l=T[t])?l:T[T.length-1];break}}null==(t=a)||t.focus()};return l.createElement("div",{className:(0,o.Z)("tabs-container",p)},l.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":i},k)},y.map((e=>{let{value:t,label:a,attributes:r}=e;return l.createElement("li",(0,n.Z)({role:"tab",tabIndex:x===t?0:-1,"aria-selected":x===t,key:t,ref:e=>T.push(e),onKeyDown:I,onFocus:S,onClick:S},r,{className:(0,o.Z)("tabs__item",m,null==r?void 0:r.className,{"tabs__item--active":x===t})}),null!=a?a:t)}))),r?(0,l.cloneElement)(b.filter((e=>e.props.value===x))[0],{className:"margin-top--md"}):l.createElement("div",{className:"margin-top--md"},b.map(((e,t)=>(0,l.cloneElement)(e,{key:t,hidden:e.props.value!==x})))))}function g(e){const t=(0,i.Z)();return l.createElement(c,(0,n.Z)({key:String(t)},e))}const h="tabItem_Ymn6";function k(e){let{children:t,hidden:a,className:n}=e;return l.createElement("div",{role:"tabpanel",className:(0,o.Z)(h,n),hidden:a},t)}a(814);const b={sidebar_label:"Setting Up",sidebar_position:1},y="Setting Up Gear Node",N={unversionedId:"node/setting-up",id:"node/setting-up",title:"Setting Up Gear Node",description:"Introduction",source:"@site/docs/node/setting-up.mdx",sourceDirName:"node",slug:"/node/setting-up",permalink:"/docs/node/setting-up",draft:!1,editUrl:"https://github.com/gear-tech/wiki/edit/master/docs/node/setting-up.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_label:"Setting Up",sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"SS58 account format",permalink:"/docs/idea/account/ss58"},next:{title:"Node as a Service",permalink:"/docs/node/node-as-service"}},v={},f=[{value:"Introduction",id:"introduction",level:2},{value:"Install with pre-build binary",id:"install-with-pre-build-binary",level:2},{value:"Compile Gear node by yourself",id:"compile-gear-node-by-yourself",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Install Rust:",id:"install-rust",level:3},{value:"Install WASM Toolchains:",id:"install-wasm-toolchains",level:3},{value:"Clone Gear repo",id:"clone-gear-repo",level:3},{value:"Compile",id:"compile",level:3},{value:"Run Gear Node",id:"run-gear-node",level:2},{value:"Command Flags and Options",id:"command-flags-and-options",level:2},{value:"Special environment variables",id:"special-environment-variables",level:2}],w={toc:f};function x(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},w,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"setting-up-gear-node"},"Setting Up Gear Node"),(0,r.kt)("h2",{id:"introduction"},"Introduction"),(0,r.kt)("p",null,"This guide covers the steps required to install and run the Gear node."),(0,r.kt)("p",null,"There are two ways to get started with the Gear node. First, you can download a pre-built binary file and run it, or second, you can compile the binary file and configure it by yourself. Using a ready-made build is a quick and convenient way to get started as you can skip the installation of Rust and all its dependencies and you can also skip the node compiling process. On the other hand, if you decide that you want to go through the process of creating your development node, it may take about twenty minutes or more depending on your hardware."),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("h3",{parentName:"admonition",id:"system-requirements"},"System requirements:"),(0,r.kt)("p",{parentName:"admonition"},"Gear node doesn't have any special hardware requirements excepting at least 64 Gbytes of free space on the SSD disk.")),(0,r.kt)("h2",{id:"install-with-pre-build-binary"},"Install with pre-build binary"),(0,r.kt)("p",null,"Depending on your OS you need to download nightly build of Gear node:"),(0,r.kt)(g,{mdxType:"Tabs"},(0,r.kt)(k,{value:"win64",label:"Windows x64",className:"unique-tabs",default:!0,mdxType:"TabItem"},(0,r.kt)("p",null,"Terminal:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"curl -O https://builds.gear.rs/gear-nightly-windows-x86_64.zip\n")),(0,r.kt)("p",null,"or"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Windows x64"),": ",(0,r.kt)("a",{parentName:"p",href:"https://builds.gear.rs/gear-nightly-windows-x86_64.zip"},"gear-nightly-windows-x86_64.zip")),(0,r.kt)("p",null,"Unzip the downloaded package then you can try to run the node:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"\u276f gear-node.exe --version\ngear-node 0.1.0-hashcode-x86_64-windows\n"))),(0,r.kt)(k,{value:"mac-arm",label:"MacOS ARM",mdxType:"TabItem"},(0,r.kt)("p",null,"Terminal:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"wget https://builds.gear.rs/gear-nightly-macos-m1.tar.gz && \\\ntar xvf gear-nightly-macos-m1.tar.gz && \\\nrm gear-nightly-macos-m1.tar.gz && \\\nchmod +x gear-node\n")),(0,r.kt)("p",null,"or"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"macOS M1/M2"),": ",(0,r.kt)("a",{parentName:"p",href:"https://builds.gear.rs/gear-nightly-macos-m1.tar.gz"},"gear-nightly-macos-m1.tar.gz")),(0,r.kt)("p",null,"You can try to run the node:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"\u276f ./gear-node --version\ngear-node 0.1.0-hashcode-aarch64-macos\n"))),(0,r.kt)(k,{value:"mac-intel",label:"MacOS x64",mdxType:"TabItem"},(0,r.kt)("p",null,"Terminal:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"wget https://builds.gear.rs/gear-nightly-macos-x86_64.tar.gz && \\\ntar xvf gear-nightly-macos-x86_64.tar.gz && \\\nrm gear-nightly-macos-x86_64.tar.gz && \\\nchmod +x gear-node\n")),(0,r.kt)("p",null,"or"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"macOS Intel x64"),": ",(0,r.kt)("a",{parentName:"p",href:"https://builds.gear.rs/gear-nightly-macos-x86_64.tar.gz"},"gear-nightly-macos-x86_64.tar.gz")),(0,r.kt)("p",null,"You can try to run the node:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"\u276f ./gear-node --version\ngear-node 0.1.0-hashcode-x86_64-macos\n"))),(0,r.kt)(k,{value:"mac-linux",label:"Linux x64",mdxType:"TabItem"},(0,r.kt)("p",null,"Terminal:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"wget https://builds.gear.rs/gear-nightly-linux-x86_64.tar.xz && \\\ntar xvf gear-nightly-linux-x86_64.tar.xz && \\\nrm gear-nightly-linux-x86_64.tar.xz && \\\nchmod +x gear-node\n")),(0,r.kt)("p",null,"or"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Linux x64"),": ",(0,r.kt)("a",{parentName:"p",href:"https://builds.gear.rs/gear-nightly-linux-x86_64.tar.xz"},"gear-nightly-linux-x86_64.tar.xz")),(0,r.kt)("p",null,"You can try to run the node:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"\u276f ./gear-node --version\ngear-node 0.1.0-hashcode-x86_64-linux\n")))),(0,r.kt)("h2",{id:"compile-gear-node-by-yourself"},"Compile Gear node by yourself"),(0,r.kt)("p",null,"Compiling the build will take some time and requires the installation of some dependencies:"),(0,r.kt)("h3",{id:"prerequisites"},"Prerequisites"),(0,r.kt)("p",null,"Linux users should generally install ",(0,r.kt)("inlineCode",{parentName:"p"},"GCC")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"Clang"),", according to their distribution\u2019s documentation. Also, one should install ",(0,r.kt)("inlineCode",{parentName:"p"},"binaryen")," toolset that contains required ",(0,r.kt)("inlineCode",{parentName:"p"},"wasm-opt")," tool."),(0,r.kt)("p",null,"For example, on Ubuntu use:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt install -y clang build-essential binaryen\n")),(0,r.kt)("p",null,"On macOS, you can get a compiler toolset and ",(0,r.kt)("inlineCode",{parentName:"p"},"binaryen"),"  by running:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"xcode-select --install\nbrew install binaryen\n")),(0,r.kt)("h3",{id:"install-rust"},"Install Rust:"),(0,r.kt)("p",null,"If you already have Rust installed, you can skip this step."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh\n")),(0,r.kt)("p",null,"And then you should reboot your terminal."),(0,r.kt)("h3",{id:"install-wasm-toolchains"},"Install WASM Toolchains:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"rustup toolchain add nightly\nrustup target add wasm32-unknown-unknown --toolchain nightly\n")),(0,r.kt)("h3",{id:"clone-gear-repo"},"Clone Gear repo"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"git clone https://github.com/gear-tech/gear.git\ncd gear\n")),(0,r.kt)("h3",{id:"compile"},"Compile"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"cargo build -p gear-node --release\n")),(0,r.kt)("p",null,"or"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"make node-release\n")),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"You can find the final build at the following location: ",(0,r.kt)("inlineCode",{parentName:"p"},"gear/target/release/gear-node")),(0,r.kt)("p",{parentName:"admonition"},"Go to:"),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"cd target/release\n"))),(0,r.kt)("h2",{id:"run-gear-node"},"Run Gear Node"),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"It doesn't matter if you downloaded the prebuild binary or built it yourself. Being in the directory where the gear node is installed to run it without special arguments to get a node connected to the testnet:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"./gear-node\n")),(0,r.kt)("p",null,"To run Gear node in dev mode use the following command:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"./gear-node --dev --tmp\n")),(0,r.kt)("h2",{id:"command-flags-and-options"},"Command Flags and Options"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-code"},"gear-node [subcommand] [options]\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"--staging")),(0,r.kt)("p",{parentName:"li"},"Connect the node to Gear testnet (default option).")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"--dev")),(0,r.kt)("p",{parentName:"li"},"Run standalone node of Gear network.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"--tmp")),(0,r.kt)("p",{parentName:"li"},"Run node with a temporary storage. A temporary directory will be created to store the configuration and will be deleted at the end of the process.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"purge-chain")),(0,r.kt)("p",{parentName:"li"},"Remove storage of the selected chain type. Needs to specify the chain connection type ",(0,r.kt)("inlineCode",{parentName:"p"},"--staging")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"--dev"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"help"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"--help")),(0,r.kt)("p",{parentName:"li"},"Print the available subcommands/options or the help of the given subcommand."))),(0,r.kt)("h2",{id:"special-environment-variables"},"Special environment variables"),(0,r.kt)("p",null,"To run Gear node with logs from contracts use:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-code"},'RUST_LOG="gwasm=debug" gear-node [subcommand] [options]\n')))}x.isMDXComponent=!0}}]);